# AWS Cost Anomalies configuration
# Copy this to config.yaml and update with your values.

s3:
  bucket: "your-cur-bucket-name"
  prefix: "cur-reports"           # S3 prefix where CUR reports are stored
  report_name: "your-report-name" # CUR report name as configured in AWS
  region: "us-east-1"

database:
  path: "./data/costs.duckdb"     # DuckDB file path (or set AWS_COST_DB_PATH env var)
  cache_dir: "./data/cache"       # Local cache for downloaded parquet files

anomaly:
  rolling_window_days: 14         # Days of history for baseline
  z_score_threshold: 2.5          # Default z-score threshold (overridden by --sensitivity)
  min_daily_cost: 1.0             # Ignore groups with daily cost below this

agent:
  model: "us.anthropic.claude-sonnet-4-20250514-v1:0"  # Bedrock model ID
  max_tokens: 4096                # Max tokens per agent response
  region: "us-east-1"             # Bedrock region (or set AWS_BEDROCK_REGION env var)
  max_agent_iterations: 10        # Max tool-use loops before stopping

  # MCP (Model Context Protocol) servers â€” uncomment to enable
  # Requires: pip install 'aws-cost-anomalies[mcp]'
  # mcp_servers:
  #   - name: "cloudtrail"
  #     command: "uvx"
  #     args: ["awslabs.cloudtrail-mcp-server@latest"]
  #     env_passthrough:
  #       - "AWS_ACCESS_KEY_ID"
  #       - "AWS_SECRET_ACCESS_KEY"
  #       - "AWS_SESSION_TOKEN"
  #       - "AWS_PROFILE"
  #       - "AWS_DEFAULT_REGION"
